---
published: true
layout: post
categories:
  - Devnet
---
API mendefinisikan bagaimanan users, developers dan aplikasi lainnya berkomunikasi dengan sebuah komponen suatu aplikasi.

## Intro API
- Sebuah API memungkinkan untuk bagian program berbicara dengan bagian program lainnya.
- API dapat digunakan web-based interaction and Communication protocol.
- Sebagai contoh ketika kita mau membuat aplikasi untuk ojek online dan kita butuh peta, dibanding kita harus membuat function untuk menampilkan peta dari awal, dengan menggunakan API kita bisa menggunakan function peta dari aplikasi/software pihak ketiga.
- Use case API:
  - Automation tasks
  - Data integration
  - Functionality

## Style Desain API
- Syncronously
  - respon request secara berurutan secara serial.
  - digunakan ketika data yang direquest sudah ada.
  - kelebihannya aplikasi dapat menerima data sesegera mungkin.
  - klien harus menuggu api selesai diproses.
- Asyncronously
  - paralel dalam satu waktu mirip dengan multithreading.
  - digunakan ketika request memerlukan beberapa waktu untuk diproses.
  - kelebihannya lanjut mengekseskusi tanpa menunggu beberapa waktu.
  
## Style Arsitektur API
### RPC
- Remote Procedure Call adalah arsitektor request-respon model yang mengizinkan aplikasi membuat procedure memanggil aplikasi lain.

### SOAP
- Messaging protocol, untuk komunikasi aplikasi beda platform beda program language.
- Contoh SOAP Message

```
<?xml version="1.0"?>
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
    <soap:Header/>
    <soap:Body>
        <soap:Fault>
            <faultcode>soap:Server</faultcode>
            <faultstring>Query request too large.</faultstring>
        </soap:Fault>
    </soap:Body>
</soap:Envelope>
```

### REST
- Representasonal State Transfer
- Elemen:
  - **Client-Server**, Harus independent masing-masing.
  - **Stateless**, server tidak menyimpan info session state oleh karena itu info request client harus lengkap ke server.
  - **Cache**, client menyimpan request sebelumnya.
  - **Uniform Interface**
    - Identification of resource
    - Manipulation of resources through representations 
    - Self-descriptive messages
    - Hypermedia as the engine of application state
  - Layered System
  - Code-On-Demand
  
## Intro REST APIs
### Rest Web Service API
- Over HTTP
- Konsep HTTP protokol:
  - HTTP requests/responses
  - HTTP verbs
  - HTTP status codes
  - HTTP headers/body

### Rest API Requests
- HTTP requests + REST Principles.
- Permintaan client ke server untuk melakukan suatu aksi fungsi.
- Komponen:
  - Uniform Resource Identifier (URI)
    - scheme:[//authority][/path][?query]
    - http://localhost:8080/v1/books?q=devnet
    - scheme
      - http
      - https
    - authority
      - host and port
    - path
      - Location resource
    - query
      - ? &
  - HTTP Method
    - POST -> Create New Object or Resource
    - GET -> Mengambil resource
    - PUT -> Mengganti atau update resource 
    - PATCH -> Partial update resource
    - DELETE -> Menghapus resource
  - Header
    - key : value
    - Request header
    - Entity header
  - Body

### Rest API Response
- HTTP Response
- Komponen:
  - HTTP Status
    - 1xx -> Informational
    - 2xx -> Success
    - 3xx -> Redirection
    - 4xx -> Client Error
    - 5xx -> Server Error
  - Header 
    - Response header
    - Entity header
  - Body
  - Respon pagination
  - Respon compressed
    - gzip
    - compress
    - deflate
    - br
    - identity
    - *

### Sequence Diagram
- Menjelaskan urutan dari pertukaran atau events.

## Autentikasi REST API
- API Juga perlu pengamanan agar tidak sembarangan user dapat mengakses dan mengubah api
- Mekanisme Autentikasi
  - Basic
  
    ```
    Authorization: Basic <username>:<password>
    ```
    
  - Bearir
    
    ```
    Authorization: Bearer <bearer token>
    ```
  - API key
    - Query string: Hanya direkomendasikan untuk public key
    - Header: Menggunakan custom key atau auth key 
    
      ```
      Authorization: <API Key> 
      ```
      or 
      ```
      Authorization: APIkey <API Key>
      ```
      or 
      ```
      APIkey: <API Key>
      ```
      
    - Body data: Menggunakan key yang unik
    
      ```
      Content-Type: application/json
      ```
      
    - Cookie: Menggunakan key yang unik
    
      ```
      Cookie: API_KEY=<API Key>
      ```
      
  - Authorization mekanisme
    - OA = OpenAuth
  
- Request dengan curl
contoh : 
```
curl -X GET "http://library.demo.local/api/v1/books?includeISBN=true&sortBy=title" -H "accept: application/json"
```

## API Rate Limit
## Bekerja Dengan Webhooks
## Troubleshoot API Calls
